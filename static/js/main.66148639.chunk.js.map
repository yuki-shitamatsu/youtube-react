{"version":3,"sources":["components/Header/Header.module.scss","components/Layout/Layout.module.scss","components/VideoPlay/VideoPlay.module.scss","components/VideoGrid/VideoGrid.module.scss","components/VideoGridItem/VideoGridItem.module.scss","components/VideoDetail/VideoDetail.module.scss","store/index.js","components/Header/Header.js","components/Layout/Layout.js","apis/index.js","components/VideoGrid/VideoGrid.js","components/VideoGridItem/VideoGridItem.js","pages/Top.js","pages/Search.js","components/VideoPlay/VideoPlay.js","components/VideoDetail/VideoDetail.js","pages/Watch.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","initialState","popular","related","searched","selected","term","reducer","state","action","type","payload","Store","createContext","globalState","setGlobalState","StoreProvider","children","useReducer","Provider","value","Header","useState","setTerm","history","useHistory","useContext","useEffect","className","Style","header","item","to","onSubmit","e","preventDefault","push","placeholder","onChange","target","icon","faSearch","Layout","wrapper","main","youtube","axios","create","baseURL","params","part","maxResults","key","regionCode","fetchPopularData","a","get","chart","fetchSelectedData","id","fetchRelatedData","relatedToVideoId","fetchSearchData","query","q","VideoGrid","container","VideoGridItem","src","title","pathname","search","alt","Top","then","res","console","log","data","items","map","snippet","thumbnails","default","url","Search","location","useLocation","setSearchResult","searchParams","URLSearchParams","videoId","medium","VideoPlay","wrap","video","VideoDetail","description","Watch","setVideos","Promise","all","shift","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66148639.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"item\":\"Header_item__2VaIS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Layout_wrapper__2dOTA\",\"main\":\"Layout_main__3OBIG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"VideoPlay_wrap__21ucX\",\"video\":\"VideoPlay_video__2ekpd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"VideoGrid_container__1eUpe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"VideoGridItem_item__2P63g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"VideoDetail_wrap__2Cb5v\"};","import React, { createContext, useReducer } from 'react'\n\nconst initialState = {\n  popular: [],\n  related: [],\n  searched: [],\n  selected: {},\n  term: ''\n}\n\nconst reducer = (state, action) => {\n  switch(action.type) {\n    case 'SET_POPULAR':\n      return { ...state, popular: action.payload.popular }\n    case 'SET_RELATED':\n      return { ...state, related: action.payload.related }\n    case 'SET_SELECTED':\n      return { ...state, selected: action.payload.selected }\n    case 'SET_SEARCHED':\n      return {...state, searched: action.payload.searched}\n    case 'SET_TERM':\n      return {...state, term: action.payload.term}\n    default:\n      return state\n  }\n}\n\nexport const Store = createContext({\n  globalState: initialState,\n  setGlobalState: () => null\n})\n\nexport const StoreProvider = ({children}) => {\n  const [globalState, setGlobalState] = useReducer(reducer, initialState)\n  return (\n    <Store.Provider value={{ globalState, setGlobalState }}>{children}</Store.Provider> \n  )\n}\n","import React, { useState, useEffect, useContext } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\nimport { Link } from 'react-router-dom'\nimport Style from './Header.module.scss'\nimport { useHistory } from 'react-router-dom'\nimport { Store } from '../../store/index'\n\nconst Header = () => {\n  const [term, setTerm] = useState('')\n  const history = useHistory()\n  const { globalState, setGlobalState } = useContext(Store)\n  const handleSubmit = e => {\n    e.preventDefault()\n    setGlobalState({type: 'SET_TERM', payload: { term }})\n    history.push(`/youtube-react/search?query=${term}`)\n  }\n  useEffect(() => {\n    setTerm(globalState.term)\n    // eslint-disable-next-line\n  }, [])\n  return (\n    <div className={Style.header}>\n      <div className={Style.item}>\n        <Link to=\"/youtube-react/\">React Tube</Link>\n      </div>\n      <div className={Style.item}>\n        <form onSubmit={ handleSubmit }>\n          <input type=\"text\" placeholder=\"検索\" onChange={e => setTerm(e.target.value)}\n          value={term} />\n          <button type=\"submit\"><FontAwesomeIcon icon={faSearch} /></button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport Header from '../Header/Header'\nimport Style from './Layout.module.scss'\n\nconst Layout = ({children}) => {\n  return (\n    <div className={Style.wrapper}>\n      <Header />\n      <div className={Style.main}>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default Layout\n","import axios from 'axios'\n\nconst KEY = 'AIzaSyD-PI7NTOJoZOW0K8Uvf9shXgNCH0Djt0w'\n\nconst youtube = axios.create({\n  baseURL: 'https://www.googleapis.com/youtube/v3'\n})\n\nconst params = {\n  part: 'snippet',\n  maxResults: 40,\n  key:KEY,\n  regionCode: 'JP',\n  type: 'video',\n}\n\nexport const fetchPopularData = async () => {\n  return await youtube.get('videos', {\n    params: {\n      ...params,\n      chart: 'mostPopular'\n    }\n  })\n}\n\nexport const fetchSelectedData = async (id) => {\n  return await youtube.get('videos', {\n    params: {\n      ...params,\n      id\n    }\n  })\n}\n\nexport const fetchRelatedData = async (id) => {\n  return await youtube.get('/search', {\n    params: {\n      ...params,\n      relatedToVideoId: id\n    }\n  })\n}\n\nexport const fetchSearchData = async (query) => {\n  return await youtube.get('/search', {\n    params: {\n      ...params,\n      q: query\n    }\n  })\n}","import React from 'react'\nimport Style from './VideoGrid.module.scss'\n\nconst VideoGrid = ({children}) => {\n  return (\n    <div className={Style.container}>\n      {children}\n    </div>\n  )\n}\n\nexport default VideoGrid\n","import React from 'react'\nimport Style from './VideoGridItem.module.scss'\nimport { Link } from 'react-router-dom'\n\nconst VideoGridItem = ({id, src, title}) => {\n  return (\n    <Link to={{pathname: '/youtube-react/watch', search: `?v=${id}`}} className={Style.item}>\n      <div>\n        <img src={src} alt={title} />\n        <span>{title}</span>\n      </div>\n    </Link>\n  )\n}\n\nexport default VideoGridItem\n","import React, { useEffect, useContext } from 'react'\nimport Layout from '../components/Layout/Layout'\nimport { fetchPopularData } from '../apis/index'\nimport { Store } from '../store/index'\nimport VideoGrid from '../components/VideoGrid/VideoGrid'\nimport VideoGridItem from '../components/VideoGridItem/VideoGridItem'\n\nconst Top = () => {\n  const { globalState, setGlobalState } = useContext(Store)\n\n    useEffect(() => {\n      fetchPopularData().then((res) => {\n        console.log('data', res)\n        setGlobalState({type: 'SET_POPULAR', payload: {popular: res.data.items}})\n      })\n      // eslint-disable-next-line\n    }, [])\n    return (\n      <Layout>\n        <VideoGrid>\n          {\n            globalState.popular && globalState.popular.map((popular) => {\n              return (\n                <VideoGridItem\n                  id={popular.id}\n                  key={popular.id}\n                  src={popular.snippet.thumbnails.default.url}\n                  title={popular.snippet.title} />\n              )\n            })\n          }\n        </VideoGrid>\n      </Layout>\n  )\n}\n\nexport default Top\n","import React, { useEffect, useContext } from 'react'\nimport Layout from '../components/Layout/Layout'\nimport { useLocation } from 'react-router-dom'\nimport { fetchSearchData } from '../apis'\nimport { Store } from '../store/index'\nimport VideoGridItem from '../components/VideoGridItem/VideoGridItem'\nimport VideoGrid from '../components/VideoGrid/VideoGrid'\n\nconst Search = () => {\n  const { globalState, setGlobalState } = useContext(Store)\n  const location = useLocation()\n  const setSearchResult = async () => {\n    const searchParams = new URLSearchParams(location.search)\n    const query = searchParams.get('query')\n    if (query) {\n      await fetchSearchData(query).then((res) => {\n        setGlobalState({type: 'SET_SEARCHED', payload: {searched: res.data.items}})\n      })\n    }\n  }\n  useEffect(() => {\n    setSearchResult()\n    // eslint-disable-next-line\n  }, [location.search])\n\n  return (\n    <Layout>\n      <VideoGrid>\n        {\n          globalState.searched ? globalState.searched.map((search) => {\n            return (\n              <VideoGridItem\n                id={search.id.videoId}\n                key={search.id.videoId}\n                src={search.snippet.thumbnails.medium.url}\n                title={search.snippet.title} />\n            )\n          }) : <span>no data</span>\n        }\n      </VideoGrid>\n    </Layout>\n  )\n}\n\nexport default Search\n","import React from 'react'\nimport Youtube from 'react-youtube'\nimport Style from './VideoPlay.module.scss'\n\nconst VideoPlay = ({id}) => {\n  return (\n    <div className={Style.wrap}>\n      <Youtube className={Style.video} videoId={id} />\n    </div>\n  )\n}\n\nexport default VideoPlay\n","import React, { useContext } from 'react'\nimport { Store } from '../../store/index'\nimport VideoPlay from '../VideoPlay/VideoPlay'\nimport Style from './VideoDetail.module.scss'\nimport Linkify from 'react-linkify'\n\nconst VideoDetail = () => {\n  const { globalState } = useContext(Store)\n  \n  return globalState.selected && globalState.selected.id ? (\n    <div className={Style.wrap}>\n      <VideoPlay id={globalState.selected.id} />\n      <p>{globalState.selected.snippet.title}</p>\n      <hr />\n      <Linkify>\n        <pre>{globalState.selected.snippet.description}</pre>\n      </Linkify>\n    </div>\n  ) : (<span>no data</span>)\n}\n\nexport default VideoDetail\n","import React, { useEffect, useContext } from 'react'\nimport Layout from '../components/Layout/Layout'\n// import SideList from '../components/SideList/SideList'\nimport VideoDetail from '../components/VideoDetail/VideoDetail'\nimport { Store } from '../store/index'\nimport { useLocation } from 'react-router-dom'\nimport { fetchSelectedData, fetchRelatedData } from '../apis/index'\n\nconst Watch = () => {\n  const { setGlobalState } = useContext(Store)\n  const location = useLocation()\n  const setVideos = async () => {\n    const searchParams = new URLSearchParams(location.search)\n    const id = searchParams.get('v')\n    if (id) {\n      const [selected, related] = await Promise.all([fetchSelectedData(id), fetchRelatedData(id)])\n      setGlobalState({type: 'SET_SELECTED', payload: {selected: selected.data.items.shift()}})\n      setGlobalState({type: 'SET_RELATED', payload: {related: related.data.items}})\n    }\n  }\n\n  useEffect(() => {\n    setVideos()\n    // eslint-disable-next-line\n  }, [location.search])\n\n  return (\n    <Layout>\n      <VideoDetail />\n      {/* <SideList /> */}\n    </Layout>\n  )\n}\n\nexport default Watch\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Top from './pages/Top';\nimport Search from './pages/Search';\nimport Watch from './pages/Watch';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/youtube-react/\" component={Top} />\n        <Route exact path=\"/youtube-react/search\" component={Search} />\n        <Route exact path=\"/youtube-react/watch\" component={Watch} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StoreProvider } from './store/index'\n\nReactDOM.render(\n  <React.StrictMode>\n    <StoreProvider>\n      <App />\n    </StoreProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}